<!DOCTYPE html>
<html>
<head>
    <title> new document </title>
    <meta charset="utf-8">
    <style>
        #docTitle{
            height:200px;
            line-height: 200px;
            text-align: center;
            font-size: 200px;
            color: cyan;
            text-shadow: -15px 15px 10px blue;
            font-family:宋体;
            font-style: italic;
            font-weight: bolder;
            user-select: none;
        }
        #searchBox{
            height: 200px;
            display: flex;
            align-items: center;
            justify-content:center;
        }
        input[type=text]{
            padding-left: 15px;
            width: 600px;
            height:100px;
            font-size: 50px;
            margin: 0 10px;
            border-radius: 25px;
            border:10px solid rgba(123,123,123,1);
        }
        button{width:150px;height:100px;font-size: 50px;margin: 0 10px;box-shadow:0 0 20px 6px white inset;border-radius: 25px;background: black;color:white;transition:0.5s;box-sizing:border-box}
        button#search:hover{
            color:blue;
            font-size: 50px;
            font-weight: bold;
            box-shadow:0 0 25px 15px yellow inset;
            background: white;
            text-shadow: 0 0 4px cyan;
            border:10px solid blue;
        }
        button#reload:hover{
            color:red;
            font-size: 50px;
            font-weight: bold;
            box-shadow:0 0 25px 15px yellow inset;
            background: grey;
            text-shadow: 0 0 4px orange;
            border:10px solid red;
        }

        a.boxTitle{
            user-select: none;
            font-size: 100px;
            box-shadow:-10px -10px 30px 20px white inset;
            background:linear-gradient(to top,black,black,black,black,white);
            color: yellow;
            border:10px solid rgba(0,0,0,0.5);
            position: relative;
            height: 200px;
            line-height: 200px;
            text-align: center;
            border-radius: 30px;
            cursor:pointer;
            text-decoration: none;
            overflow: hidden;
        }

        a.boxTitle>span:nth-child(1),span:nth-child(2){
            display: inline-block;
            height: 100%;
            width: 20px;
            background:white;
            box-shadow:0 0 15px 20px white ;
            transition:all 1.5s ease-out;
            position: absolute;
            top:0;
            opacity: 0;


        }
        a.boxTitle>span:nth-child(1){
            left:00px;
        }
        a.boxTitle>span:nth-child(2){
            right:00px;
        }
        a.boxTitle:hover{
            color: white;
            font-size: 100px;
            font-weight: bold;
            text-shadow: 10px 10px 30px white;
            animation: ani 0.5s ease-in infinite;
        }
        a.boxTitle:hover span:nth-of-type(1){
            animation: span1Ani 0.5s ease-in infinite;
        }
        a.boxTitle:hover span:nth-of-type(2){
            animation: span2Ani 0.5s ease-in infinite;
        }
        @keyframes ani{
            0%{background: linear-gradient(to right,red,blue,red)}
            10%{background: linear-gradient(to right,pink,cyan,pink)}
            20%{background: linear-gradient(to right,yellow,purple,yellow)}
            30%{background: linear-gradient(to right,cyan,pink,pink)}
            40%{background: linear-gradient(to right,purple,yellow,yellow)}
            50%{background: linear-gradient(to right,orange,grey,orange)}
            60%{background: linear-gradient(to right,black,white,black)}
            70%{background: linear-gradient(to right,green,dodgerblue,green)}
            80%{background: linear-gradient(to right,white,black,black)}
            90%{background: linear-gradient(to right,dodgerblue,green,green)}
            100%{background: linear-gradient(to right,blue,red,blue)}
        }
        @keyframes span1Ani{
            0%{left:0;opacity: 0;}
            100%{left:100%;opacity: 1;}
        }
        @keyframes span2Ani{
            0%{right:0;opacity: 0;}
            100%{right:100%;opacity: 1;}
        }

        div.boxContent{
            font-size: 60px;
            color:white;
            text-shadow: 0 0 6px white;
            word-wrap: break-word;word-break: break-all;
        }
    </style>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>
        $(function(){
            $("body").css({"background-image":"url('http://pic.rmb.bdstatic.com/f6756b80ea58d17328e6eba20b600f54.jpeg')","background-repeat":"no-repeat","background-size":"cover"});
            var n=-1;

            var json=[
								{title:"axios --异步请求 【vue中的代码】【没有session的配合会丢数据】",content:`1. npm install --save axios `+"<br/>"+` 【vue--终端安装】`+"<hr/>"+`2. import axios from "axios" `+"<br/>"+` 【vue--在当前组件页面引入】`+"<hr/>"+` 3. axios.get("http://localhost:3000/user/login/",{params:{uid:1,uname:dingding}}).then((result)=>{
                    console.log(result.data);
                }) `+"<br/>"+` 或者 `+"<br/>"+` axios.get("http://localhost:3000/user/login/?uid=1&uname=dingding").then((result)=>{
                    console.log(result.data);
                }) 【vue--使用】`}

								,{title:"cors --跨域请求【服务端的代码】",content:`1. npm install --save cors `+"<br/>"+` 【服务端--终端安装】`+"<hr/>"+`2. const cors = require("cors"); `+"<br/>"+` 【服务端--app.js引入】`+"<hr/>"+`3. server.use(cors({origin:["http://127.0.0.1:8080","http://localhost:8080"],credentials:true})); `+"<br/>"+` 或者 `+"<br/>"+` server.use(cors({origin:"*",credentials:true})); `+"<br/>"+`【服务端--app.js使用】 `}

								,{title:"axios+session【服务端+vue的代码】",content:`1. npm install --save express-session `+"<br/>"+`【服务端--终端安装】`+"<hr/>"+`2.const session = require("express-session") `+"<br/>"+`【服务端--app.js引入】`+"<hr/>"+`3. server.use(session({secret:"128位字符串",resave:true,saveUninitialized:true})) `+"<br/>"+`【服务端--app.js配置】`+"<hr/>"+`4. import Vue from "vue" `+"<br/>"+`
import axios from "axios" `+"<br/>"+`
axios.defaults.withCredentials=true `+"<br/>"+`
axios.defaults.baseURL="http://127.0.0.1:3000/" `+"<br/>"+`
Vue.prototype.axios = axios `+"<br/>"+` 【vue--新建axios.js，这些代码都写在axios.js里】`+"<hr/>"+`5. import axios from "./axios" `+"<br/>"+` 【vue--main.js引入axios.js】`+"<hr/>"+`6. - app.get("/login",(req,res)=>{ `+"<br/>"+`
        if(result.length > 0){ `+"<br/>"+`
          req.session.uid = 1; `+"<br/>"+`
        } `+"<br/>"+`
     }) `+"<br/><br/>"+`
    -app.get("/cart",(req,res)=>{ `+"<br/>"+`
         var uid = req.session.uid; `+"<br/>"+`
         if(!uid){ `+"<br/>"+`
           //没登录  `+"<br/>"+`
          } `+"<br/>"+`
    }) `+"<br/>"+`【服务端--路由位置--使用示例】`}

				,{title:"【了解】vuex【情况1:脚手架初始如果没有安装vuex模块用此方式】 --多个组件共享数据【vue中的代码】",content:`1. npm i vuex -S  `+"<br/>"+` 【vue--终端安装】`+"<hr/>"+`2. import Vuex from "vuex"; `+"<br/>"+` 【vue--main.js引入】`+"<hr/>"+`3. var store = new Vuex.Store({state:{保存全局共享数据},mutations:{修改全局共享数据函数},getters:{获取全局共享数据函数}}); `+"<br/>"+`【vue--main.js创建vuex实例对象】 `+"<hr/>"+`4.Vue.use(vuex);`+"<br/>"+`
     new Vue({store});`+"<br/>"+`【vue--main.js将vuex注册vue实例中】`+"<hr/>"+`5.{{$store.getters.获取数据方法}}`+"<br/>"+`【vue--其它组件获取vuex数据 < template >】`+"<hr/>"+`6.this.$store.commit("修改数据方法")`+"<br/>"+`【vue--其它组件操作vuex数据 js】 `}

				,{title:"【掌握】vuex【情况2:脚手架初始已经自动安装了vuex】",content:`使用案例--vuex的基本使用:`+"<hr/>"+`1.安装完脚手架自动生成store.js`+"<hr/>"+`2.【store.js】文件中--【关键词:state】`+"<br/>"+`state: {myValue:0,myFn:function(n){alert(n);}}, `+"<br/>"+`\/\/state属性的作用是【vuex定义】:声明myValue这个自定的全局变量 `+"<hr/>"+`3.【store.js】文件中--【关键词:getters】`+"<br/>"+`getters:{fn(state){return state.myValue},fn2(state){return state.myFn【注意:上面state定义时要写形参,这里不用写参数,然后组件里的调用要写实参】}},`+"<br/>"+`
				\/\/getters属性的作用是【vuex定义】:获取myValue这个自定的全局变量 `+"<br/>"+` \/\/store.js默认生成的文件中没有getters这条属性,自行添加 `+"<hr/>"+`4.【store.js】文件中--【关键词:mutations】`+"<br/>"+`mutations: {fn2(state){state.myValue++}},`+"<br/>"+`\/\/mutations属性的作用是【vuex定义】:修改myValue这个自定的全局变量 `+"<hr/>"+`5.【任意组件.vue】文件中--【关键词:{{$store.getters.fn}}】`+"<br/>"+`< div >{{$store.getters.fn}}< /div >`+"<br/>"+`
				\/\/【vuex调用】:获取myValue这个自定的全局变量`+"<hr/>"+`6.【任意组件.vue】文件中--【关键词:@click="$store.commit('fn2')"】`+"<br/>"+`< button @click="$store.commit('fn2')" >click< /button >`+"<br/>"+`
				\/\/【vuex调用】:修改myValue这个自定的全局变量`+"<br/>"+`\/\/ 这个commit对应4中的mutations `+"<hr/>"+`7.【任意组件.vue】文件的methods或created等函数中--【关键词:this.$store.getters.fn(n)】`+"<br/>"+`调用:`+"<br/>"+`在页面中调用写法是:$store.getters.fn(n)`+"<br/>"+`在脚本中调用写法是:this.$store.getters.fn(n) `}
				
				,{title:"【掌握】vuex应用实例--写仿白酒商城中的代码--实现多个组件共享同个滚动监听函数",content:`1.【store.js】文件中-- `+"<br/>"+` state: {scrollListen:function(idx,This){window.addEventListener("scroll",function(){if((document.documentElement.scrollTop+document.documentElement.clientHeight)>(document.querySelector(idx).offsetTop)){console.log("xxxx");This.s_h.initAnimate1=true;}})},}, `+"<hr/>"+`2.【store.js】文件中--`+"<br/>"+`getters:{getScrollListen(state){return state.scrollListen}} `+"<hr/>"+`3.【任意组件.vue】文件中--`+"<br/>"+`  mounted(){this.$store.getters.getScrollListen("#partTwo",this);}, `}


                ];
            /*初始加载页面内容*/
            $(json).each(function(i, elem){
                /*..*/
                $("<a>").html(elem.title).attr("href","#n"+i).attr("name","n"+i).attr("tf",false).addClass("boxTitle").css({margin:"5px",textAlign:"center",display:"block"}).prepend($("<span>")).append($("<span>")).appendTo("#main");
                $("<div>").html(elem.content).addClass("boxContent").css({background:"black",margin:"5px",display:"none","padding":"50px 100px"}).appendTo("#main");
            })

            /*点击标题触发手风琴*/
            $(".boxTitle").click(function(){
                if(n!=-1){
                    $(".boxTitle").eq(n).css({"background":"black","line-height":"200px","font-size":"100px","overflow":"auto"}).height(200);
                    $(".boxContent").eq(n).slideUp();
                    if(n==$(".boxTitle").index(this)){
                        n=-1;
                        return;
                    }
                }
                $(this).css({"background":"linear-gradient(to right,black,white,black)","line-height":"300px","font-size":"150px","overflow":"scroll"}).height(300);
                $(this).next().slideToggle();
                n=$(".boxTitle").index(this);
            })


            /*查找*/
            var reg=/^\s/g;
            $("#search").click(function(){
                $("div.boxContent").each(function(i,elem){
                    $("a.boxTitle").eq(i).css({"display":"none"}).attr("tf",false);
                    /*console.log($("input[type='text']").val().toLowerCase().search(reg));*/
                    if($("input[type='text']").val().toLowerCase().search(reg)==0){
                        $(".tet").prop("value","首字符不能为空，请重输..").css("color","grey");
                    }
                    if($("input[type='text']").val().toLowerCase()!=""&&$("input[type='text']").val().toLowerCase().search(reg)==-1){
                        if($("div.boxContent").eq(i).html().indexOf($("input[type='text']").val().toLowerCase())!=-1||$("a.boxTitle").eq(i).html().indexOf($("input[type='text']").val().toLowerCase())!=-1){
                            $("a.boxTitle").eq(i).attr("tf",true);
                        }
                        if($("a.boxTitle").eq(i).attr("tf")==="true"){
                            $("a.boxTitle").eq(i).css({"display":"block","background":"rgba(80,70,200,0.6)"});
                        }
                    }
                })
            })
            /*文本框聚焦*/
            $(".tet").focus(function(){
                $(this).prop("value","").css("color","black");
            });

            /*重置*/
            $("#reload").click(function(){
                /*window.location.reload();*/
                $("#main").html(" ");
                $(json).each(function(i, elem){
                    $("<a>").html(elem.title).attr("href","#n"+i).attr("name","n"+i).attr("tf",false).addClass("boxTitle").css({margin:"5px",textAlign:"center",display:"block"}).prepend($("<span>")).append($("<span>")).appendTo("#main");
                    $("<div>").html(elem.content).addClass("boxContent").css({background:"black",margin:"5px",display:"none","padding":"50px 100px"}).appendTo("#main");
                })
                $(".boxTitle").click(function(){
                    if(n!=-1){
                        $(".boxTitle").eq(n).css({"background":"black","line-height":"200px","font-size":"100px","overflow":"auto"}).height(200);
                        $(".boxContent").eq(n).slideUp();
                        if(n==$(".boxTitle").index(this)){
                            n=-1;
                            return;
                        }
                    }
                    $(this).css({"background":"linear-gradient(to right,black,white,black)","line-height":"300px","font-size":"150px","overflow":"scroll"}).height(300);
                    $(this).next().slideToggle();
                    n=$(".boxTitle").index(this);
                })
            })



        })
    </script>
</head>
<body>
<div id="docTitle">第三方模块</div>
<div id="searchBox"><input class="tet" type="text" placeholder="请输入值.."/><button id="search">查找</button><button id="reload">重置</button></div>
<div id="main">
</div>
</body>
</html>